---
title: Control LED Brightness with PWM using SplashKit GPIO
description: Learn how to control LED brightness with Pulse Width Modulation (PWM) on Raspberry Pi GPIO pins using SplashKit, with Local and Remote control options.
author: SplashKit Team
lastupdated: May 2025
---

import { Tabs, TabItem, Steps } from "@astrojs/starlight/components";

**{frontmatter.description}**  
Written by: {frontmatter.author}  
_Last updated: {frontmatter.lastupdated}_

---

:::caution[Before you begin:]
Ensure your LED is wired with a resistor to prevent damage when using PWM. Double‑check pin numbers and connections before powering up.
:::

This guide shows you how to use **Pulse Width Modulation (PWM)** with SplashKit GPIO to control the **brightness of an LED**. PWM rapidly switches a pin between HIGH and LOW to simulate varying voltages.

We’ll provide **Local** and **Remote** examples with nested tabs.

## Components

- **LED** with resistor (220 Ω – 1 kΩ)  
- **Breadboard**  
- **Jumper wires**

## Circuit
- Connect LED anode (long leg) → **GPIO Pin 12** (physical PIN_12, which supports PWM).  
- Connect LED cathode (short leg) → resistor → GND.

## Starting the Daemon (for Remote)

:::tip[Daemons]
PWM also uses the pigpio daemon underneath SplashKit for remote operations.
:::

Start if needed:
```shell
sudo pigpiod
```

:::note
Default port: **8888**. Override with `-p <port>`. Ensure firewall/network allow access for remote mode.  
See: https://programmers.guide/book/appendix/0-installation/4-0-remote-access-pi/
:::

Stop daemon:
```shell
sudo killall pigpiod
```

## The Code

We’ll fade the LED in/out by gradually increasing and decreasing the duty cycle.

<Tabs syncKey="execution-mode">
<TabItem label="Local">

<Tabs syncKey="code-language">
<TabItem label="C++">

```cpp
#include "splashkit.h"

int main()
{
    raspi_init();
    gpio_pin led_pin = PIN_12; // PWM-capable

    open_window("dummy_window", 1, 1);
    while(!any_key_pressed())
    {
        process_events();

        // Fade in
        for (int d = 0; d <= 100; d++)
        {
            raspi_pwm_write(led_pin, d); // duty cycle 0–100
            delay(20);
        }

        // Fade out
        for (int d = 100; d >= 0; d--)
        {
            raspi_pwm_write(led_pin, d);
            delay(20);
        }
    }

    close_all_windows();
    raspi_cleanup();
    return 0;
}
```

</TabItem>
<TabItem label="C#">

<Tabs syncKey="csharp-style">
<TabItem label="Top-level Statements">

```csharp
using SplashKitSDK;
using static SplashKitSDK.SplashKit;

RaspiInit();
GpioPin ledPin = (GpioPin)12; // PWM pin

OpenWindow("dummy_window", 1, 1);
while(!AnyKeyPressed())
{
    ProcessEvents();

    // Fade in
    for (int d = 0; d <= 100; d++)
    {
        RaspiPwmWrite(ledPin, d);
        Delay(20);
    }

    // Fade out
    for (int d = 100; d >= 0; d--)
    {
        RaspiPwmWrite(ledPin, d);
        Delay(20);
    }
}

CloseAllWindows();
RaspiCleanup();
```

</TabItem>
<TabItem label="Object-Oriented">

```csharp
using SplashKitSDK;

namespace RaspberryPiPwmLed
{
    public class Program
    {
        public static void Main()
        {
            SplashKit.RaspiInit();
            GpioPin ledPin = GpioPin.Pin12;

            SplashKit.OpenWindow("dummy_window", 1, 1);
            while (!SplashKit.AnyKeyPressed())
            {
                SplashKit.ProcessEvents();

                for (int d = 0; d <= 100; d++)
                {
                    SplashKit.RaspiPwmWrite(ledPin, d);
                    SplashKit.Delay(20);
                }
                for (int d = 100; d >= 0; d--)
                {
                    SplashKit.RaspiPwmWrite(ledPin, d);
                    SplashKit.Delay(20);
                }
            }

            SplashKit.CloseAllWindows();
            SplashKit.RaspiCleanup();
        }
    }
}
```
</TabItem>
</Tabs>
</TabItem> <!-- end Local -->

<TabItem label="Remote">

:::note
**Remote mode requires the Raspberry Pi daemon** to be running.  
Default port: **8888**. You can override with `sudo pigpiod -p <port>`.
:::

**How Remote works:**  
Use `remote_raspi_init(name, ip, port)` → returns a `connection`. Pass that connection into all remote functions.

<Tabs syncKey="code-language">
<TabItem label="C++">

```cpp
#include "splashkit.h"

int main()
{
    connection conn = remote_raspi_init("pi1", "192.168.1.42", 8888);

    gpio_pin led_pin = PIN_12;

    open_window("dummy_window", 1, 1);
    while(!any_key_pressed())
    {
        process_events();

        for (int d = 0; d <= 100; d++)
        {
            remote_raspi_pwm_write(conn, led_pin, d);
            delay(20);
        }
        for (int d = 100; d >= 0; d--)
        {
            remote_raspi_pwm_write(conn, led_pin, d);
            delay(20);
        }
    }

    close_all_windows();
    remote_raspi_cleanup(conn);
    return 0;
}
```

</TabItem>
<TabItem label="C#">

<Tabs syncKey="csharp-style">
<TabItem label="Top-level Statements">

```csharp
using SplashKitSDK;
using static SplashKitSDK.SplashKit;

var conn = RemoteRaspiInit("pi1", "192.168.1.42", 8888);

GpioPin ledPin = (GpioPin)12;

OpenWindow("dummy_window", 1, 1);
while(!AnyKeyPressed())
{
    ProcessEvents();

    for (int d = 0; d <= 100; d++)
    {
        RemoteRaspiPwmWrite(conn, ledPin, d);
        Delay(20);
    }
    for (int d = 100; d >= 0; d--)
    {
        RemoteRaspiPwmWrite(conn, ledPin, d);
        Delay(20);
    }
}

CloseAllWindows();
RemoteRaspiCleanup(conn);
```

</TabItem>
<TabItem label="Object-Oriented">

```csharp
using SplashKitSDK;

namespace RaspberryPiPwmLed
{
    public class Program
    {
        public static void Main()
        {
            var conn = SplashKit.RemoteRaspiInit("pi1", "192.168.1.42", 8888);

            GpioPin ledPin = GpioPin.Pin12;

            SplashKit.OpenWindow("dummy_window", 1, 1);
            while (!SplashKit.AnyKeyPressed())
            {
                SplashKit.ProcessEvents();

                for (int d = 0; d <= 100; d++)
                {
                    SplashKit.RemoteRaspiPwmWrite(conn, ledPin, d);
                    SplashKit.Delay(20);
                }
                for (int d = 100; d >= 0; d--)
                {
                    SplashKit.RemoteRaspiPwmWrite(conn, ledPin, d);
                    SplashKit.Delay(20);
                }
            }

            SplashKit.CloseAllWindows();
            SplashKit.RemoteRaspiCleanup(conn);
        }
    }
}
```
</TabItem>
</Tabs>
</TabItem> <!-- end Remote -->
</Tabs> <!-- end execution-mode -->

### Understanding the code

<Steps>

1. **Initialise / Connect**  
   - Local: `raspi_init()` / `RaspiInit()`  
   - Remote: `remote_raspi_init(name, ip, port)` returns `connection`.

2. **PWM Setup**  
   Pins with PWM support can output variable duty cycles 0–100%.

3. **Loop**  
   Gradually change duty cycle up and down to fade LED brightness.

4. **Cleanup**  
   Call `raspi_cleanup()` or `remote_raspi_cleanup(conn)`.

</Steps>

### Build and run

<Tabs syncKey="code-language">
<TabItem label="C++">

```shell
g++ pwm_led.cpp -l SplashKit -o pwm_led
./pwm_led
```

</TabItem>
<TabItem label="C#">

```shell
dotnet build
dotnet run
```
</TabItem>
</Tabs>
